(()=>{"use strict";var t;!function(t){t.image="image",t.name="name",t.status="status",t.species="species",t.type="type",t.origin="origin",t.firstepisode="firstepisode"}(t||(t={}));class e extends HTMLElement{static get observedAttributes(){return Object.keys(t)}constructor(){super(),this.attachShadow({mode:"open"})}attributeChangedCallback(t,e,i){this[t]=i,this.render()}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n\n            <link rel="stylesheet" href="../src/components/Character/Character.css">\n          \n            <div id="card">\n            <div>\n            <img src="${this.image||"No image"}" alt="imagen de: ${this.name}">\n            </div>\n\n            <div id="txt">\n            <h1>${this.name||"No name"}</h1>\n            <p>Status: ${this.status||"No status"}</p>\n            <p>Specie: ${this.species||"No specie"}</p>\n            <p>Type: ${this.type||"No type"}</p>\n            <p>Origin: ${this.origin||"No origin"}</p>\n            <p>First episode: ${this.firstepisode||"No episode yet"}</p>\n            </div>\n\n            </div>\n            `)}}customElements.define("character-component",e);var i=function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))};const n=t=>i(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`https://rickandmortyapi.com/api/character/${t}`).then((t=>t.json()));return console.log(e),e}catch(t){console.error(t)}})),s=t=>i(void 0,void 0,void 0,(function*(){try{return yield fetch(`${t}`).then((t=>t.json()))}catch(t){console.error(t)}}));var r=function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))};class o extends HTMLElement{constructor(){super(),this.arrayCharacter=[],this.dataRickMorty=[],this.dataNameFistEpisode=[],this.attachShadow({mode:"open"})}connectedCallback(t){return r(this,void 0,void 0,(function*(){this.render(),this.inputValue()}))}inputValue(){var t,e;const i=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".form"),o=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".input");null==i||i.addEventListener("submit",(t=>r(this,void 0,void 0,(function*(){t.preventDefault();const e=Number(o.value);if(console.log(e),e>0){this.arrayCharacter=[],this.dataRickMorty=[],this.dataNameFistEpisode=[];for(let t=1;t<=e;t++){const e=yield n(t),i=yield s(e.episode[0]);this.dataRickMorty.push(e),this.dataNameFistEpisode.push(i.name)}this.createCardsRickAndMorty(),this.renderCharacters()}}))))}createCardsRickAndMorty(){let e=0;this.dataRickMorty.forEach((i=>{const n=this.ownerDocument.createElement("character-component");n.setAttribute(t.image,i.image),n.setAttribute(t.name,i.name),n.setAttribute(t.status,i.status),n.setAttribute(t.species,i.species),n.setAttribute(t.type,i.type),n.setAttribute(t.origin,i.origin.name),n.setAttribute(t.firstepisode,this.dataNameFistEpisode[e]),this.arrayCharacter.push(n),e++}))}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n        <link rel="stylesheet" href="../src/Style.css">\n        <div class="header">\n        <h1>Rick and Morty Cards</h1>\n        <form class="form">\n            <input class="input" type="number" placeholder="Select the number" min="1" max="20" step="1">\n        </form>\n        </div>\n        <div class="cardsDiv"></div>\n\n           ')}renderCharacters(){var t;const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".cardsDiv");e&&(e.innerHTML="",this.arrayCharacter.forEach((t=>{null==e||e.appendChild(t)})))}}customElements.define("app-container",o)})();